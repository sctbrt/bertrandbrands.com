---
import BaseLayout from '../layouts/BaseLayout.astro';
import HeaderUniversal from '../components/HeaderUniversal.astro';
import AnnouncementBanner from '../components/AnnouncementBanner.astro';
import VisitorNotify from '../components/VisitorNotify.astro';
import GesturePrevention from '../components/GesturePrevention.astro';

const currentYear = new Date().getFullYear();

const schemaJson = {
  "@context": "https://schema.org",
  "@type": "Person",
  "name": "Scott Bertrand",
  "url": "https://brands.bertrandgroup.ca/scottbertrand",
  "jobTitle": "Designer & Builder",
  "description": "Creating brands, products, and systems that work and last. Focused on clarity over noise, substance over style.",
  "worksFor": {
    "@type": "ProfessionalService",
    "name": "Bertrand Group | Brands & Web Systems",
    "url": "https://brands.bertrandgroup.ca"
  },
  "address": {
    "@type": "PostalAddress",
    "addressLocality": "Greater Sudbury",
    "addressRegion": "Ontario",
    "addressCountry": "CA"
  }
};
---

<BaseLayout
  title="About Scott Bertrand — Designer & Builder | BG | Brands & Web Systems"
  description="Scott Bertrand — Designer & Builder based in Sudbury, Canada. Creating brands, products, and systems that work and last. Founder of Bertrand Group."
  canonical="https://brands.bertrandgroup.ca/scottbertrand"
  ogTitle="About Scott Bertrand — Designer & Builder"
  ogDescription="Creating brands, products, and systems that work and last. Founder of Bertrand Group, based in Sudbury, Canada."
  schemaJson={schemaJson}
  bodyClass="about-page about-page--intro-active"
>
  <Fragment slot="head">
    <meta name="author" content="Scott Bertrand">

    <!-- Override BaseLayout's og:type="website" with profile -->
    <meta property="og:type" content="profile">
    <meta property="og:site_name" content="Bertrand Group | Brands & Web Systems">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="About Scott Bertrand — Designer & Builder">
    <meta name="twitter:description" content="Creating brands, products, and systems that work and last. Founder of Bertrand Group.">

    <style is:inline>
        /* ===== COLOR TOKENS (from scottbertrand.com) ===== */
        :root {
            --sb-bg: #F8F6F3;
            --sb-bg-warm: #F0EDE8;
            --sb-bg-card: #FFFFFF;
            --sb-text: #2C2825;
            --sb-text-muted: #4A4540;
            --sb-text-subtle: #706A63;
            --sb-border: rgba(44, 40, 37, 0.12);
            --sb-border-strong: rgba(44, 40, 37, 0.25);
            --sb-color-bertrand: #B54A1A;
            --sb-color-notes: #2D5A8A;
            --sb-color-goods: #4A5C44;
            --sb-radius-sm: 4px;
            --sb-radius-md: 8px;
            --sb-radius-lg: 12px;
            --sb-radius-xl: 16px;
            --sb-gutter: clamp(1rem, 4vw, 2rem);
            --sb-container-max: 1120px;

            /* Glass variables */
            --glass-lx: 0.15;
            --glass-ly: -0.15;
            --glass-blur-core: 24px;
            --glass-radius-sm: 12px;
            --glass-radius-md: 16px;
            --glass-radius-lg: 20px;
            --glass-grain-opacity: 0.035;
            --glass-transition-slow: 420ms cubic-bezier(0.25, 0.1, 0.25, 1);
        }

        [data-theme="dark"] {
            --sb-bg: #0F0E0D;
            --sb-bg-warm: #1a1816;
            --sb-bg-card: #1C1B19;
            --sb-text: #F5F3F0;
            --sb-text-muted: #B5B0A8;
            --sb-text-subtle: #8A847D;
            --sb-border: rgba(255, 255, 255, 0.08);
            --sb-border-strong: rgba(255, 255, 255, 0.15);
            --sb-color-bertrand: #E07A3A;
            --sb-color-notes: #5A9BD4;
            --sb-color-goods: #8FA883;
            --glass-grain-opacity: 0.04;
        }

        [data-theme="light"] {
            --sb-bg: #F8F6F3;
            --sb-bg-warm: #F0EDE8;
            --sb-bg-card: #FFFFFF;
            --sb-text: #2C2825;
            --sb-text-muted: #4A4540;
            --sb-text-subtle: #706A63;
            --sb-border: rgba(44, 40, 37, 0.12);
            --sb-border-strong: rgba(44, 40, 37, 0.25);
            --sb-color-bertrand: #B54A1A;
        }

        /* Prevent pinch-to-zoom */
        html { touch-action: pan-x pan-y; }
        @supports (-webkit-touch-callout: none) {
            html { -webkit-text-size-adjust: 100%; }
        }

        /* ===== ABOUT PAGE BODY ===== */
        .about-page {
            background: var(--sb-bg);
            color: var(--sb-text);
            min-height: 100vh;
            font-family: var(--font-body, 'Inter', -apple-system, sans-serif);
            -webkit-font-smoothing: antialiased;
        }

        /* Organic gradient overlay */
        .about-page::before {
            content: '';
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background-image:
                radial-gradient(ellipse at 20% 50%, rgba(224, 122, 58, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 85% 20%, rgba(90, 155, 212, 0.05) 0%, transparent 45%),
                radial-gradient(ellipse at 60% 90%, rgba(143, 168, 131, 0.04) 0%, transparent 40%);
            pointer-events: none;
            z-index: 0;
        }

        [data-theme="light"] .about-page::before {
            background-image:
                radial-gradient(ellipse at 20% 50%, rgba(181, 74, 26, 0.04) 0%, transparent 50%),
                radial-gradient(ellipse at 85% 20%, rgba(45, 90, 138, 0.03) 0%, transparent 45%),
                radial-gradient(ellipse at 60% 90%, rgba(74, 92, 68, 0.03) 0%, transparent 40%);
        }

        .about-page__content {
            position: relative;
            z-index: 1;
        }

        /* ===== HEADER OVERRIDE ===== */
        .header {
            opacity: 1 !important;
            visibility: visible !important;
            pointer-events: auto !important;
            transform: translateY(0) !important;
        }
        .header__logo-icon,
        .header__wordmark {
            opacity: 1 !important;
        }
        /* Hide header during intro */
        .about-page--intro-active .header {
            opacity: 0 !important;
            pointer-events: none !important;
        }

        /* RGB header lights override (instead of BB's orange) */
        .header__glass {
            --red-pos: 10%;
            --yellow-pos: 50%;
            --blue-pos: 90%;
        }
        .header.lights-on .header__glass::before {
            background:
                radial-gradient(ellipse 250px 80px at var(--red-pos) 70%, var(--light-red, transparent), transparent),
                radial-gradient(ellipse 200px 90px at var(--yellow-pos) 50%, var(--light-yellow, transparent), transparent),
                radial-gradient(ellipse 250px 80px at var(--blue-pos) 30%, var(--light-blue, transparent), transparent) !important;
        }
        [data-theme="dark"] .header.lights-on .header__glass {
            --light-red: rgba(220, 53, 53, 0.14);
            --light-yellow: rgba(220, 180, 50, 0.08);
            --light-blue: rgba(50, 100, 220, 0.11);
        }
        [data-theme="light"] .header.lights-on .header__glass {
            --light-red: rgba(220, 53, 53, 0.07);
            --light-yellow: rgba(220, 180, 50, 0.04);
            --light-blue: rgba(50, 100, 220, 0.055);
        }

        /* ===== CINEMATIC INTRO ===== */
        .intro-overlay {
            position: fixed;
            inset: 0;
            background: var(--sb-bg);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            visibility: visible;
            transition: opacity 1s ease-out, visibility 0s linear 1s;
            overflow: hidden;
        }
        .intro-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
            visibility: hidden;
        }
        .intro-overlay.hidden {
            display: none;
        }

        .intro__prompt {
            position: fixed;
            bottom: 3rem;
            left: 50%;
            transform: translateX(-50%);
            font-family: var(--font-body, 'Inter', sans-serif);
            font-size: 0.875rem;
            font-weight: 400;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: var(--sb-text-muted);
            opacity: 0;
            transition: opacity 0.6s ease-out;
            z-index: 10000;
            pointer-events: none;
        }
        .intro__prompt.visible {
            opacity: 1;
            animation: promptPulse 2.5s ease-in-out infinite;
        }
        @keyframes promptPulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        .intro__orbit-light--blue.persist {
            position: fixed;
            z-index: 9998;
            transition: opacity 3s ease-out;
        }
        .intro__orbit-light--blue.persist.fade-out {
            opacity: 0;
        }

        .intro__content {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            position: relative;
            z-index: 1;
            max-width: 90vw;
            padding: 0 1rem;
        }
        @media (max-width: 640px) {
            .intro__content {
                justify-content: center;
            }
            .intro__logo-wordmark {
                max-width: 70vw;
                height: clamp(32px, 7vw, 50px);
            }
        }

        .intro__orbit {
            position: fixed;
            top: 50%; left: 50%;
            width: 100vw; height: 100vh;
            transform: translate(-50%, -50%);
            pointer-events: none;
            opacity: 0;
            animation: introLightsIn 2s ease-out 0.3s forwards;
        }
        .intro__orbit-light {
            position: absolute;
            top: 50%; left: 50%;
            width: 400px; height: 400px;
            margin: -200px 0 0 -200px;
            border-radius: 50%;
            filter: blur(80px);
        }
        .intro__orbit-light--red {
            background: rgba(220, 53, 53, 0.25);
            animation: orbitRed 25s linear infinite;
        }
        .intro__orbit-light--yellow {
            background: rgba(220, 180, 50, 0.2);
            animation: orbitYellow 25s linear infinite;
        }
        .intro__orbit-light--blue {
            background: rgba(50, 100, 220, 0.25);
            animation: orbitBlue 25s linear infinite;
        }
        @keyframes orbitRed {
            0% { transform: rotate(0deg) translateX(35vw) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(35vw) rotate(-360deg); }
        }
        @keyframes orbitYellow {
            0% { transform: rotate(120deg) translateX(30vw) rotate(-120deg); }
            100% { transform: rotate(480deg) translateX(30vw) rotate(-480deg); }
        }
        @keyframes orbitBlue {
            0% { transform: rotate(240deg) translateX(35vw) rotate(-240deg); }
            100% { transform: rotate(600deg) translateX(35vw) rotate(-600deg); }
        }

        .intro__logo-wordmark {
            height: clamp(40px, 8vw, 60px);
            width: auto;
            max-width: 80vw;
            object-fit: contain;
            opacity: 0;
            transform: scale(0.95);
            animation: introLogoIn 1s ease-out 0.5s forwards;
            position: relative;
            z-index: 2;
        }
        @keyframes introLightsIn { to { opacity: 1; } }
        @keyframes introLogoIn { to { opacity: 1; transform: scale(1); } }

        @media (prefers-reduced-motion: reduce) {
            .intro__orbit-light,
            .intro__logo-wordmark {
                animation: none;
                opacity: 1;
                transform: none;
            }
        }

        /* ===== DOT GRID ===== */
        .dot-grid {
            position: fixed;
            inset: 0;
            z-index: 0;
            pointer-events: none;
        }
        .dot-grid canvas {
            width: 100%;
            height: 100%;
            display: block;
        }

        /* ===== HERO SPOTLIGHTS ===== */
        .hero__lights {
            position: fixed;
            top: 0; left: 0; right: 0;
            height: 100vh;
            pointer-events: none;
            z-index: 0;
            opacity: 0;
            transition: opacity 1.5s ease-out;
        }
        .hero__lights.on { opacity: 1; }
        .hero__light {
            position: absolute;
            border-radius: 50%;
            filter: blur(120px);
        }
        .hero__light--red {
            top: 8%; left: 0%;
            width: 550px; height: 420px;
            background: rgba(220, 60, 60, 0.30);
            animation: driftRed 45s ease-in-out infinite;
        }
        .hero__light--yellow {
            top: 25%; left: 25%;
            width: 500px; height: 380px;
            background: rgba(234, 179, 8, 0.25);
            animation: driftYellow 55s ease-in-out infinite;
        }
        .hero__light--blue {
            top: 5%; right: 5%;
            width: 520px; height: 400px;
            background: rgba(60, 100, 220, 0.28);
            animation: driftBlue 50s ease-in-out infinite;
        }
        @keyframes driftRed {
            0% { transform: translate(0, 0) scale(1); }
            15% { transform: translate(60px, 40px) scale(1.05); }
            30% { transform: translate(20px, 80px) scale(0.98); }
            45% { transform: translate(-40px, 50px) scale(1.03); }
            60% { transform: translate(-70px, 10px) scale(0.97); }
            75% { transform: translate(-30px, -30px) scale(1.02); }
            90% { transform: translate(30px, -20px) scale(0.99); }
            100% { transform: translate(0, 0) scale(1); }
        }
        @keyframes driftYellow {
            0% { transform: translate(0, 0) scale(1); }
            12% { transform: translate(-50px, -30px) scale(1.04); }
            28% { transform: translate(-80px, 20px) scale(0.96); }
            42% { transform: translate(-30px, 70px) scale(1.02); }
            58% { transform: translate(40px, 50px) scale(0.98); }
            72% { transform: translate(70px, 0px) scale(1.03); }
            88% { transform: translate(30px, -40px) scale(0.97); }
            100% { transform: translate(0, 0) scale(1); }
        }
        @keyframes driftBlue {
            0% { transform: translate(0, 0) scale(1); }
            18% { transform: translate(-60px, 50px) scale(0.97); }
            35% { transform: translate(-40px, -20px) scale(1.04); }
            52% { transform: translate(30px, -50px) scale(0.99); }
            68% { transform: translate(80px, 10px) scale(1.02); }
            85% { transform: translate(40px, 60px) scale(0.96); }
            100% { transform: translate(0, 0) scale(1); }
        }
        [data-theme="light"] .hero__light--red { background: rgba(200, 50, 50, 0.10); }
        [data-theme="light"] .hero__light--yellow { background: rgba(202, 138, 4, 0.10); }
        [data-theme="light"] .hero__light--blue { background: rgba(50, 90, 200, 0.10); }

        /* ===== HERO SECTION ===== */
        .about-hero {
            max-width: var(--sb-container-max);
            margin: 0 auto;
            padding: 4rem var(--sb-gutter) 3rem;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
            position: relative;
            z-index: 1;
        }
        .about-hero.revealed {
            opacity: 1;
            transform: translateY(0);
        }
        @media (min-width: 768px) {
            .about-hero {
                padding: 6rem var(--sb-gutter) 5rem;
            }
        }

        .about-hero__layout {
            display: grid;
            gap: 2rem;
        }
        @media (min-width: 768px) {
            .about-hero__layout {
                grid-template-columns: 1.4fr 1fr;
                gap: 4rem;
                align-items: end;
            }
        }

        .about-hero__title {
            font-family: 'Fraunces', Georgia, serif;
            font-size: clamp(2.5rem, 8vw, 5.25rem);
            font-weight: 300;
            line-height: 0.98;
            letter-spacing: -0.02em;
            color: var(--sb-text);
            max-width: 22ch;
        }
        .about-hero__amp {
            opacity: 0.8;
            font-weight: 500;
            letter-spacing: -0.02em;
        }
        .about-hero__subhead {
            margin-top: 1rem;
            font-family: 'Manrope', var(--font-body, 'Inter', -apple-system, sans-serif);
            font-size: clamp(1rem, 2vw, 1.25rem);
            font-weight: 500;
            line-height: 1.3;
            letter-spacing: -0.005em;
            color: var(--sb-text);
            opacity: 0.85;
        }
        .about-hero__aside {
            padding-bottom: 0.5rem;
        }
        .about-hero__text {
            font-size: 1rem;
            color: var(--sb-text-muted);
            line-height: 1.7;
            max-width: 320px;
        }

        /* ===== DIVIDER ===== */
        .about-divider {
            max-width: var(--sb-container-max);
            margin: 0 auto;
            padding: 0 var(--sb-gutter);
            opacity: 0;
            transition: opacity 0.6s ease-out;
        }
        .about-divider.revealed { opacity: 1; }
        .about-divider hr {
            border: none;
            border-top: 1px solid var(--sb-border);
        }

        /* ===== GLASS PANEL ===== */
        .glass-panel {
            position: relative;
            background:
                linear-gradient(135deg, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.01) 50%, rgba(0,0,0,0.03) 100%),
                rgba(10, 10, 10, 0.3);
            border-radius: var(--glass-radius-lg);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow:
                0 8px 32px rgba(0, 0, 0, 0.35),
                0 2px 8px rgba(0, 0, 0, 0.15),
                inset 0 1px 1px rgba(255, 255, 255, 0.1),
                inset 0 -1px 1px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            backdrop-filter: blur(24px) saturate(180%) brightness(1.05);
            -webkit-backdrop-filter: blur(24px) saturate(180%) brightness(1.05);
            padding: 3rem 2.5rem;
            transition: background 420ms cubic-bezier(0.25, 0.1, 0.25, 1), border-color 420ms cubic-bezier(0.25, 0.1, 0.25, 1);
        }

        [data-theme="light"] .glass-panel {
            background:
                linear-gradient(135deg, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0.2) 50%, rgba(0,0,0,0.01) 100%),
                rgba(250, 250, 250, 0.3);
            border-color: rgba(0, 0, 0, 0.04);
            box-shadow:
                0 8px 32px rgba(0, 0, 0, 0.12),
                0 2px 8px rgba(0, 0, 0, 0.06),
                inset 0 1px 1px rgba(255, 255, 255, 0.8),
                inset 0 -1px 1px rgba(0, 0, 0, 0.05);
        }

        /* Inner stroke + specular */
        .glass-panel::before {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: inherit;
            pointer-events: none;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow:
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                inset calc(var(--glass-lx) * -4px) calc(var(--glass-ly) * -4px) 16px rgba(255, 255, 255, 0.1);
        }
        [data-theme="light"] .glass-panel::before {
            border-color: rgba(255, 255, 255, 0.8);
            box-shadow:
                inset 0 1px 0 rgba(255, 255, 255, 0.8),
                inset calc(var(--glass-lx) * -4px) calc(var(--glass-ly) * -4px) 16px rgba(255, 255, 255, 0.4);
        }

        /* Grain texture */
        .glass-panel::after {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: inherit;
            pointer-events: none;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
            background-size: 128px 128px;
            opacity: var(--glass-grain-opacity);
            mix-blend-mode: overlay;
        }

        @supports not ((backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px))) {
            .glass-panel {
                background: rgba(30, 30, 30, 0.6);
            }
            [data-theme="light"] .glass-panel {
                background: rgba(255, 255, 255, 0.5);
            }
        }

        @media (max-width: 768px) {
            .glass-panel { padding: 2rem 1.5rem; border-radius: var(--glass-radius-md); }
        }
        @media (max-width: 480px) {
            .glass-panel { padding: 1.5rem 1rem; border-radius: var(--glass-radius-sm); }
            .glass-panel::after { opacity: 0; }
        }

        /* ===== BIO SECTION ===== */
        .about-bio {
            max-width: var(--sb-container-max);
            margin: 3rem auto;
            padding: 0 var(--sb-gutter);
            opacity: 0;
            transform: translateY(-30px);
            transition: opacity 1s ease-out, transform 1s ease-out;
            position: relative;
            z-index: 1;
        }
        .about-bio.revealed {
            opacity: 1;
            transform: translateY(0);
        }

        .about-bio__label {
            font-size: 0.6875rem;
            font-weight: 500;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: var(--sb-color-bertrand);
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 1;
        }
        .about-bio__heading {
            font-family: var(--font-display, 'Fraunces', Georgia, serif);
            font-size: clamp(1.5rem, 4vw, 2rem);
            font-weight: 400;
            margin-bottom: 1.5rem;
            color: var(--sb-text);
            position: relative;
            z-index: 1;
        }
        .about-bio__text {
            font-size: 1rem;
            color: var(--sb-text-muted);
            line-height: 1.8;
            max-width: 640px;
            margin-bottom: 1.25rem;
            position: relative;
            z-index: 1;
        }
        .about-bio__text:last-of-type {
            margin-bottom: 0;
        }

        /* ===== STUDIO CARD ===== */
        .about-studio {
            max-width: var(--sb-container-max);
            margin: 3rem auto;
            padding: 0 var(--sb-gutter);
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
            position: relative;
            z-index: 1;
        }
        .about-studio.revealed {
            opacity: 1;
            transform: translateY(0);
        }

        .about-studio__card {
            background: linear-gradient(135deg, #1a1613 0%, #2a2420 100%);
            border-radius: var(--sb-radius-lg);
            padding: 2rem;
            color: #F5F3F0;
            position: relative;
            overflow: hidden;
        }
        @media (min-width: 768px) {
            .about-studio__card {
                padding: 3rem;
                display: grid;
                grid-template-columns: 1fr auto;
                gap: 3rem;
                align-items: center;
            }
        }
        .about-studio__card::before {
            content: '';
            position: absolute;
            inset: 0;
            background:
                radial-gradient(ellipse at 0% 0%, rgba(224, 122, 58, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 100% 100%, rgba(224, 122, 58, 0.08) 0%, transparent 40%);
            pointer-events: none;
        }
        .about-studio__content {
            position: relative;
            z-index: 1;
        }
        .about-studio__label {
            font-size: 0.6875rem;
            font-weight: 500;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: var(--sb-color-bertrand);
            margin-bottom: 0.75rem;
        }
        .about-studio__wordmark {
            display: block;
            height: 20px;
            width: auto;
            max-width: 100%;
            margin-bottom: 0.375rem;
        }
        @media (min-width: 768px) {
            .about-studio__wordmark { height: 28px; }
        }
        .about-studio__tagline {
            font-size: 1.125rem;
            color: rgba(245, 243, 240, 0.7);
            margin-bottom: 1rem;
        }
        .about-studio__description {
            font-size: 0.9375rem;
            color: rgba(245, 243, 240, 0.6);
            line-height: 1.7;
            max-width: 480px;
        }
        .about-studio__cta {
            position: relative;
            z-index: 1;
            margin-top: 1.5rem;
        }
        @media (min-width: 768px) {
            .about-studio__cta { margin-top: 0; }
        }
        .about-studio__cta a {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem 1.5rem;
            background: #E07A3A;
            color: white;
            font-size: 0.9375rem;
            font-weight: 500;
            border-radius: var(--sb-radius-sm);
            text-decoration: none;
            transition: background 0.2s;
        }
        .about-studio__cta a:hover {
            background: #F08A4A;
        }

        /* ===== THEME TOGGLE ===== */
        .theme-toggle {
            position: fixed;
            bottom: 1.5rem;
            right: 1.5rem;
            z-index: 100;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 1px solid var(--sb-border);
            background: color-mix(in srgb, var(--sb-bg) 80%, transparent);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            color: var(--sb-text-muted);
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: border-color 0.2s, color 0.2s;
        }
        .theme-toggle:hover {
            border-color: var(--sb-border-strong);
            color: var(--sb-text);
        }

        /* ===== FOOTER ===== */
        .about-footer {
            max-width: var(--sb-container-max);
            margin: 0 auto;
            padding: 3rem var(--sb-gutter);
            border-top: 1px solid var(--sb-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
            position: relative;
            z-index: 1;
        }
        .about-footer__brand {
            display: flex;
            align-items: center;
            text-decoration: none;
        }
        .about-footer__wordmark {
            height: 18px;
            width: auto;
            object-fit: contain;
        }
        .about-footer__text {
            font-size: 0.75rem;
            color: var(--sb-text-subtle);
        }
        .about-footer__text a {
            color: inherit;
            text-decoration: none;
            transition: color 0.2s;
        }
        .about-footer__text a:hover {
            color: var(--sb-text);
        }

        /* ===== SKIP LINK ===== */
        .skip-link {
            position: fixed;
            top: -100%;
            left: 1rem;
            padding: 0.75rem 1rem;
            background: var(--sb-text);
            color: var(--sb-bg);
            font-size: 0.875rem;
            font-weight: 500;
            border-radius: var(--sb-radius-sm);
            z-index: 10001;
            text-decoration: none;
        }
        .skip-link:focus { top: 1rem; }

        :focus-visible {
            outline: 2px solid var(--sb-color-bertrand);
            outline-offset: 2px;
        }

        /* Hidden-scroll for header */
        .header.hidden-scroll {
            transform: translateY(-100%) !important;
            transition: transform 0.3s ease;
        }
        .header:not(.hidden-scroll) {
            transition: transform 0.3s ease;
        }

        @media (prefers-reduced-motion: reduce) {
            .about-hero, .about-bio, .about-studio, .about-divider {
                opacity: 1;
                transform: none;
                transition: none;
            }
            .hero__lights { display: none; }
            .hero__light { animation: none; }
        }
    </style>
  </Fragment>

  <!-- Cinematic Intro -->
  <div class="intro-overlay" id="intro">
      <div class="intro__content">
          <div class="intro__orbit">
              <div class="intro__orbit-light intro__orbit-light--red"></div>
              <div class="intro__orbit-light intro__orbit-light--yellow"></div>
              <div class="intro__orbit-light intro__orbit-light--blue"></div>
          </div>
          <img src="/assets/scott-bertrand-logo-wordmark-light.png" alt="Scott Bertrand" class="intro__logo-wordmark" width="543" height="50" loading="lazy">
      </div>
      <div class="intro__prompt" id="introPrompt">Tap to begin</div>
  </div>

  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- Universal Header -->
  <HeaderUniversal />

  <!-- Dot Grid Background -->
  <div class="dot-grid">
      <canvas id="dotWaveCanvas"></canvas>
  </div>

  <div class="about-page__content">
      <main id="main-content">
          <!-- RGB Hero Spotlights -->
          <div class="hero__lights" id="heroLights">
              <div class="hero__light hero__light--red"></div>
              <div class="hero__light hero__light--yellow"></div>
              <div class="hero__light hero__light--blue"></div>
          </div>

          <!-- Hero -->
          <section class="about-hero" id="hero">
              <div class="about-hero__layout">
                  <div class="about-hero__main">
                      <h1 class="about-hero__title">Designer <span class="about-hero__amp">&amp;</span> Builder</h1>
                      <p class="about-hero__subhead">Built to work. Built to last.</p>
                  </div>
                  <div class="about-hero__aside">
                      <p class="about-hero__text">Creating brands, products, and systems that work and last. Focused on clarity over noise, substance over style.</p>
                  </div>
              </div>
          </section>

          <div class="about-divider" id="divider"><hr></div>

          <!-- Bio Panel -->
          <section class="about-bio" id="bio">
              <div class="glass-panel">
                  <p class="about-bio__label">About the Founder</p>
                  <h2 class="about-bio__heading">Scott Bertrand</h2>
                  <p class="about-bio__text">I'm Scott Bertrand — a brand and web systems builder based in Northern Ontario. I design calm, premium digital experiences and build the structure behind them so they stay clear, consistent, and easy to run.</p>
                  <p class="about-bio__text">I lead Bertrand Group, where I help founders refine identity, rebuild websites, and install durable systems that hold up in the real world. My focus is clarity over cleverness, structure over noise, and work that feels finished — and stays that way.</p>
                  <p class="about-bio__text">Every project runs through a process designed to reduce guesswork: structured reviews, clear deliverables, and honest direction. The goal is always the same — make the work legible, make it last, and make it easy to maintain without me.</p>
              </div>
          </section>

          <!-- Studio Card -->
          <section class="about-studio" id="studio">
              <article class="about-studio__card">
                  <div class="about-studio__content">
                      <p class="about-studio__label">Design Studio</p>
                      <h2>
                          <span class="about-studio__wordmark" style="font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; font-size: 0.8rem; font-weight: 400; letter-spacing: 0.14em; text-transform: uppercase; color: inherit;">Bertrand Group | Brands &amp; Web Systems</span>
                      </h2>
                      <p class="about-studio__tagline">Brand & Web Systems</p>
                      <p class="about-studio__description">Clear, structured brand and web work for businesses in Greater Sudbury and Northern Ontario. For those who know their site isn't working — but don't know what to fix first.</p>
                  </div>
                  <div class="about-studio__cta">
                      <a href="/?skip">Explore the studio &rarr;</a>
                  </div>
              </article>
          </section>
      </main>

      <footer class="about-footer" id="contact">
          <a href="/?skip" class="about-footer__brand">
              <span class="about-footer__wordmark" style="font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; font-size: 0.65rem; font-weight: 400; letter-spacing: 0.14em; text-transform: uppercase; color: inherit;">Bertrand Group | Brands &amp; Web Systems</span>
          </a>
          <p class="about-footer__text">&copy; {currentYear} Scott Bertrand &middot; Sudbury, Canada</p>
      </footer>
  </div>

  <!-- Theme Toggle -->
  <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme" title="Toggle theme">&#9684;</button>

  <!-- Dot Grid Script -->
  <script is:inline src="/scripts/dot-grid-about.js"></script>

  <script is:inline>
      // ===== THEME SYSTEM =====
      (function() {
          var toggle = document.getElementById('themeToggle');
          var root = document.documentElement;

          // Time-based default (Canada/Eastern)
          function getTimeBasedTheme() {
              try {
                  var hour = new Date(new Date().toLocaleString('en-US', { timeZone: 'America/Toronto' })).getHours();
                  return (hour >= 7 && hour < 19) ? 'light' : 'dark';
              } catch (e) {
                  return 'dark';
              }
          }

          var stored = localStorage.getItem('bb-about-theme');
          var mode = stored || 'auto'; // auto, light, dark

          function applyTheme() {
              var theme = mode === 'auto' ? getTimeBasedTheme() : mode;
              root.setAttribute('data-theme', theme);
              // Update toggle icon
              if (toggle) {
                  toggle.textContent = mode === 'auto' ? '\u25D0' : (mode === 'light' ? '\u2600' : '\u263E');
              }
          }

          applyTheme();

          if (toggle) {
              toggle.addEventListener('click', function() {
                  if (mode === 'auto') mode = 'light';
                  else if (mode === 'light') mode = 'dark';
                  else mode = 'auto';
                  localStorage.setItem('bb-about-theme', mode);
                  applyTheme();
              });
          }
      })();

      // ===== CINEMATIC INTRO =====
      (function() {
          var intro = document.getElementById('intro');
          var introPrompt = document.getElementById('introPrompt');
          var blueLight = document.querySelector('.intro__orbit-light--blue');
          var header = document.querySelector('.header');
          var headerGlass = document.querySelector('.header__glass');
          var aboutPage = document.querySelector('.about-page');
          var hero = document.getElementById('hero');
          var heroLights = document.getElementById('heroLights');
          var divider = document.getElementById('divider');
          var bio = document.getElementById('bio');
          var studio = document.getElementById('studio');

          var introComplete = false;
          var hasBegun = false;

          // Skip intro if ?skip param or reduced motion
          var skipIntro = new URLSearchParams(window.location.search).has('skip') ||
                            window.matchMedia('(prefers-reduced-motion: reduce)').matches;

          if (skipIntro) {
              intro.classList.add('hidden');
              if (aboutPage) aboutPage.classList.remove('about-page--intro-active');
              if (header) header.classList.add('lights-on');
              if (hero) hero.classList.add('revealed');
              if (heroLights) heroLights.classList.add('on');
              if (divider) divider.classList.add('revealed');
              if (bio) bio.classList.add('revealed');
              if (studio) studio.classList.add('revealed');
              hasBegun = true;
              startHeaderLights();
              return;
          }

          function beginSite(skipScroll) {
              if (!introComplete || hasBegun) return;
              hasBegun = true;

              introPrompt.classList.remove('visible');
              intro.classList.add('fade-out');

              // Show header
              if (aboutPage) aboutPage.classList.remove('about-page--intro-active');

              // Persist blue light
              if (blueLight) {
                  blueLight.classList.add('persist');
                  document.body.appendChild(blueLight);
              }

              setTimeout(function() {
                  intro.classList.add('hidden');
                  if (header) header.classList.add('lights-on');
                  startHeaderLights();

                  if (blueLight) {
                      blueLight.classList.add('fade-out');
                      setTimeout(function() { blueLight.remove(); }, 3000);
                  }

                  if (!skipScroll) {
                      window.scrollTo({ top: 0, behavior: 'instant' });
                  }
              }, 1000);

              // Hero
              setTimeout(function() {
                  if (heroLights) heroLights.classList.add('on');
                  if (hero) hero.classList.add('revealed');
              }, 1400);

              // Divider
              setTimeout(function() {
                  if (divider) divider.classList.add('revealed');
              }, 2700);

              // Bio panel
              setTimeout(function() {
                  if (bio) bio.classList.add('revealed');
              }, 3200);

              // Studio card
              setTimeout(function() {
                  if (studio) studio.classList.add('revealed');
              }, 3800);
          }

          // Show prompt after 3s
          setTimeout(function() {
              introComplete = true;
              introPrompt.classList.add('visible');
          }, 3000);

          function handleBegin(e) {
              var isLinkClick = e.target.closest('a[href]');
              beginSite(isLinkClick);
              if (hasBegun) {
                  document.removeEventListener('click', handleBegin);
                  document.removeEventListener('touchstart', handleBegin);
              }
          }
          document.addEventListener('click', handleBegin);
          document.addEventListener('touchstart', handleBegin, { passive: true });

          // ===== REACTIVE RGB HEADER LIGHTS =====
          var mouseInfluenceRed = 0;
          var mouseInfluenceYellow = 0;
          var mouseInfluenceBlue = 0;
          var currentRedPos = 10;
          var currentYellowPos = 50;
          var currentBluePos = 90;
          var isAnimatingLights = false;
          var lightAnimationId = null;
          var lastLightFrame = performance.now();

          document.addEventListener('mousemove', function(e) {
              if (!header || !header.classList.contains('lights-on')) return;
              var mouseX = e.clientX / window.innerWidth;
              mouseInfluenceRed = mouseX * 12;
              mouseInfluenceYellow = (mouseX - 0.5) * 8;
              mouseInfluenceBlue = -mouseX * 12;
          });

          function animateHeaderLights(currentTime) {
              if (!isAnimatingLights) return;

              var elapsed = currentTime / 1000;
              var deltaTime = (currentTime - lastLightFrame) / 16.67;
              lastLightFrame = currentTime;

              var redDrift = Math.sin(elapsed * 0.23) * 15 + Math.sin(elapsed * 0.57 + 1.2) * 8 + Math.sin(elapsed * 0.89) * 4;
              var yellowDrift = Math.sin(elapsed * 0.19 + 2.5) * 18 + Math.sin(elapsed * 0.47) * 9;
              var blueDrift = Math.sin(elapsed * 0.31 + 4.0) * 15 + Math.sin(elapsed * 0.71 + 0.8) * 8 + Math.sin(elapsed * 0.43) * 4;

              var targetRedPos = 20 + redDrift + mouseInfluenceRed;
              var targetYellowPos = 50 + yellowDrift + mouseInfluenceYellow;
              var targetBluePos = 75 + blueDrift + mouseInfluenceBlue;

              var ease = 1 - Math.pow(0.92, deltaTime);
              currentRedPos += (targetRedPos - currentRedPos) * ease;
              currentYellowPos += (targetYellowPos - currentYellowPos) * ease;
              currentBluePos += (targetBluePos - currentBluePos) * ease;

              if (headerGlass) {
                  headerGlass.style.setProperty('--red-pos', currentRedPos + '%');
                  headerGlass.style.setProperty('--yellow-pos', currentYellowPos + '%');
                  headerGlass.style.setProperty('--blue-pos', currentBluePos + '%');
              }
              lightAnimationId = requestAnimationFrame(animateHeaderLights);
          }

          function startHeaderLights() {
              if (!isAnimatingLights) {
                  isAnimatingLights = true;
                  lastLightFrame = performance.now();
                  lightAnimationId = requestAnimationFrame(animateHeaderLights);
              }
          }

          document.addEventListener('visibilitychange', function() {
              if (document.hidden) {
                  isAnimatingLights = false;
                  if (lightAnimationId) {
                      cancelAnimationFrame(lightAnimationId);
                      lightAnimationId = null;
                  }
              } else if (hasBegun) {
                  startHeaderLights();
              }
          });
      })();

      // ===== SCROLL HEADER HIDE/SHOW =====
      (function() {
          var header = document.querySelector('.header');
          if (!header) return;

          var lastScrollY = window.scrollY;
          var ticking = false;

          window.addEventListener('scroll', function() {
              if (!ticking) {
                  window.requestAnimationFrame(function() {
                      var currentScrollY = window.scrollY;

                      if (currentScrollY > 100) {
                          if (currentScrollY > lastScrollY && currentScrollY > 150) {
                              header.classList.add('hidden-scroll');
                          } else {
                              header.classList.remove('hidden-scroll');
                          }
                      } else {
                          header.classList.remove('hidden-scroll');
                      }

                      lastScrollY = currentScrollY;
                      ticking = false;
                  });
                  ticking = true;
              }
          }, { passive: true });
      })();
  </script>

  <GesturePrevention />
  <AnnouncementBanner />
  <VisitorNotify />
</BaseLayout>
