<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

    <!-- SEO -->
    <link rel="canonical" href="https://bertrandbrands.com/">
    <meta name="theme-color" content="#0a0a0a">
    <title>Bertrand Brands — Brand & Web Systems</title>
    <meta name="description" content="Clear, structured brand and web work for businesses that value clarity. Audits, brand systems, and website foundations. Based in Sudbury, available across Canada.">

    <!-- Open Graph -->
    <meta property="og:title" content="Bertrand Brands — Brand & Web Systems">
    <meta property="og:description" content="Clear, structured brand and web work for businesses that value clarity. Based in Sudbury, available across Canada.">
    <meta property="og:url" content="https://bertrandbrands.com/">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="en_CA">

    <!-- Favicon & Touch Icons -->
    <link rel="icon" type="image/png" href="/assets/favicon.png">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">

    <!-- Schema.org LocalBusiness + Service -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ProfessionalService",
      "name": "Bertrand Brands",
      "description": "Clear, structured brand and web work for businesses that value clarity. Audits, brand systems, and website foundations.",
      "url": "https://bertrandbrands.com",
      "email": "hello@bertrandbrands.com",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Greater Sudbury",
        "addressRegion": "Ontario",
        "addressCountry": "CA"
      },
      "areaServed": [
        { "@type": "Place", "name": "Northern Ontario" },
        { "@type": "Country", "name": "Canada" }
      ],
      "priceRange": "$95 - $6,900 CAD",
      "founder": {
        "@type": "Person",
        "name": "Scott Bertrand",
        "url": "https://scottbertrand.com"
      },
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "Brand & Web Services",
        "itemListElement": [
          { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Founders Direction Check" }, "price": "95", "priceCurrency": "CAD" },
          { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Brand & Website Starter Map" }, "price": "145", "priceCurrency": "CAD" },
          { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Website Snapshot Review" }, "price": "195", "priceCurrency": "CAD" },
          { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Brand Clarity Session" }, "price": "245", "priceCurrency": "CAD" },
          { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Comprehensive Website Audit" }, "price": "450", "priceCurrency": "CAD" },
          { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Strategic Brand Audit" }, "price": "550", "priceCurrency": "CAD" },
          { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Brand Reset" }, "price": "3000", "priceCurrency": "CAD" },
          { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Website Foundation" }, "price": "4250", "priceCurrency": "CAD" },
          { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Full Brand + Website Reset" }, "price": "6900", "priceCurrency": "CAD" }
        ]
      }
    }
    </script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,300;9..144,400&family=Inter:opsz,wght@14..32,300;14..32,400;14..32,500;14..32,600&family=Source+Serif+4:opsz,wght@8..60,300;8..60,400&display=swap" rel="stylesheet">

    <\!-- Styles -->
    <link rel="stylesheet" href="/styles/tokens.css">
    <link rel="stylesheet" href="/styles/main.css">
</head>
<body>
    <div class="cursor-glow" id="cursorGlow"></div>

    <!-- Cinematic Intro -->
    <div class="intro">
        <div class="intro__glow intro__glow--orange"></div>
        <div class="intro__glow intro__glow--blue"></div>
        <div class="intro__fade"></div>
        <div class="intro__grid"></div>
        <img src="/assets/bertrand-brands-logomark.png" alt="" class="intro__logo">
        <div class="intro__brand">
            <span class="intro__brand-main">Bertrand</span>
            <span class="intro__brand-main">Brands</span>
            <span class="intro__brand-sub">Brand &amp; Web Systems</span>
        </div>
        <div class="intro__scroll-hint">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
        </div>
    </div>

    <div class="page">
        <!-- Header: BERTRAND BRANDS -->
        <header class="header">
            <div class="header__glass">
                <div class="header__inner">
                    <a href="/" class="header__logo"><img src="/assets/bertrand-brands-logomark.png" alt="" class="header__logo-icon"><span class="header__logo-text">Bertrand Brands</span></a>
                    <button class="header__toggle" aria-label="Toggle menu" aria-expanded="false">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <nav class="header__nav">
                        <a href="#about" class="header__link">About</a>
                        <a href="#process" class="header__link">How It Works</a>
                        <a href="#services" class="header__link">Services</a>
                        <a href="#contact" class="header__link header__link--cta">Make a Request</a>
                        <a href="#portal" class="header__link header__link--portal">Client Portal</a>
                    </nav>
                </div>
            </div>
        </header>

        <!-- Hero -->
        <section class="hero">
            <div class="hero__bg">
                <div class="hero__gradient hero__gradient--1"></div>
                <div class="hero__gradient hero__gradient--2"></div>
                <div class="hero__grid"></div>
            </div>
            <div class="hero__spotlight hero__spotlight--orange"></div>
            <div class="hero__spotlight hero__spotlight--blue"></div>

            <div class="hero__content">
                <h1 class="hero__title">
                    <span class="hero__title-glow">Brand &</span>
                    <span><span class="hero__title-glow">Web</span> <span class="accent">Systems</span></span>
                </h1>
                <p class="hero__subtitle">
                    Clear, structured work for businesses that value clarity over noise.
                    Based in Sudbury, available across Canada.
                </p>
                <a href="#about" class="hero__cta">
                    Learn more
                    <span class="hero__cta-arrow">↓</span>
                </a>
            </div>
        </section>

        <!-- About -->
        <section class="section" id="about">
            <div class="container">
                <div class="section__header section__header--about reveal">
                    <p class="section__label">About</p>
                    <h2 class="section__title">Clear thinking, <span class="text-spotlight text-spotlight--focused">focused</span> work</h2>
                </div>

                <div class="about reveal">
                    <p class="about__text">Bertrand Brands is a design studio for businesses who know their brand or website needs work—but aren't sure where to start.</p>
                    <p class="about__text">We create clarity. Through structured audits, brand systems, and conversion-focused websites, we help you understand what's working, what isn't, and what to do next.</p>
                    <p class="about__text">Based in Greater Sudbury, serving Northern Ontario and clients across Canada.</p>
                </div>
            </div>
        </section>

        <!-- Process (How It Works) -->
        <section class="section section--alt section--process" id="process">
            <div class="container">
                <div class="section__header section__header--process reveal">
                    <p class="section__label">How It Works</p>
                    <h2 class="section__title section__title--clear-phrase"><span class="text-fade">A </span><span class="text-spotlight text-spotlight--clear">clear</span><span class="text-fade"> path forward</span></h2>
                </div>

                <div class="process reveal">
                    <p class="process__intro">Every project follows a structured process. No surprises, no scope creep—just focused work that moves you forward.</p>

                    <ol class="process__steps">
                        <li class="process__step" data-step="01">Discovery call to understand your needs</li>
                        <li class="process__step" data-step="02">Research and strategic foundation</li>
                        <li class="process__step" data-step="03">Design exploration and refinement</li>
                        <li class="process__step" data-step="04">Build and implementation</li>
                        <li class="process__step" data-step="05">Handoff with documentation</li>
                    </ol>
                </div>
            </div>
        </section>

        <!-- Services -->
        <section class="section section--alt" id="services">
            <div class="container">
                <div class="section__header reveal">
                    <p class="section__label">Services</p>
                    <h2 class="section__title">What we offer</h2>
                </div>

                <!-- Start Here: Introductory Services -->
                <div class="exploratory reveal">
                    <p class="exploratory__label">Start Here</p>
                    <div class="exploratory__grid">
                        <div class="exploratory-card">
                            <div class="exploratory-card__header">
                                <h3 class="exploratory-card__title">Founders Direction Check</h3>
                                <span class="exploratory-card__meta">20 min · Live</span>
                            </div>
                            <p class="exploratory-card__description">A fast orientation session for early-stage founders. Get clarity on what to focus on next—and what not to spend money on yet.</p>
                            <div class="exploratory-card__footer">
                                <p class="exploratory-card__price">$95 <span>CAD</span></p>
                                <a href="#contact" class="exploratory-card__cta">Request this service →</a>
                            </div>
                        </div>

                        <div class="exploratory-card">
                            <div class="exploratory-card__header">
                                <h3 class="exploratory-card__title">Brand & Website Starter Map</h3>
                                <span class="exploratory-card__meta">PDF · 3–4 days</span>
                            </div>
                            <p class="exploratory-card__description">A lightweight roadmap with brand direction, homepage structure, and prioritized next steps. For founders not ready for a full audit.</p>
                            <div class="exploratory-card__footer">
                                <p class="exploratory-card__price">$145 <span>CAD</span></p>
                                <a href="#contact" class="exploratory-card__cta">Request this service →</a>
                            </div>
                        </div>
                    </div>
                </div>

                <hr class="services-divider">

                <!-- Main Services Grid -->
                <div class="services reveal-stagger">
                    <div class="service">
                        <p class="service__number">01</p>
                        <h3 class="service__title">Website Snapshot Review</h3>
                        <p class="service__meta">30 min · Live</p>
                        <p class="service__description">Full site review with prioritized recommendations. Understand what's working and what needs attention.</p>
                        <div class="service__footer">
                            <p class="service__price">$195 <span>CAD</span></p>
                            <a href="#contact" class="service__cta">Request this service →</a>
                        </div>
                    </div>

                    <div class="service">
                        <p class="service__number">02</p>
                        <h3 class="service__title">Brand Clarity Session</h3>
                        <p class="service__meta">45 min · Live</p>
                        <p class="service__description">Brand positioning and identity assessment. A clear view of where you stand and where to go.</p>
                        <div class="service__footer">
                            <p class="service__price">$245 <span>CAD</span></p>
                            <a href="#contact" class="service__cta">Request this service →</a>
                        </div>
                    </div>

                    <div class="service">
                        <p class="service__number">03</p>
                        <h3 class="service__title">Comprehensive Website Audit</h3>
                        <p class="service__meta">PDF Deliverable</p>
                        <p class="service__description">In-depth analysis with documented findings and actionable recommendations.</p>
                        <div class="service__footer">
                            <p class="service__price">$450 <span>CAD</span></p>
                            <a href="#contact" class="service__cta">Request this service →</a>
                        </div>
                    </div>

                    <div class="service">
                        <p class="service__number">04</p>
                        <h3 class="service__title">Strategic Brand Audit</h3>
                        <p class="service__meta">PDF Deliverable</p>
                        <p class="service__description">Comprehensive brand assessment with strategic direction and positioning insights.</p>
                        <div class="service__footer">
                            <p class="service__price">$550 <span>CAD</span></p>
                            <a href="#contact" class="service__cta">Request this service →</a>
                        </div>
                    </div>

                    <div class="service">
                        <p class="service__number">05</p>
                        <h3 class="service__title">Brand Reset</h3>
                        <p class="service__description">Complete brand system and guidelines. Visual identity that works across every touchpoint.</p>
                        <div class="service__footer">
                            <p class="service__price">$3,000 <span>CAD</span></p>
                            <a href="#contact" class="service__cta">Request this service →</a>
                        </div>
                    </div>

                    <div class="service">
                        <p class="service__number">06</p>
                        <h3 class="service__title">Website Foundation</h3>
                        <p class="service__description">Conversion-focused website build. Fast, accessible, built to perform.</p>
                        <div class="service__footer">
                            <p class="service__price">$4,250 <span>CAD</span></p>
                            <a href="#contact" class="service__cta">Request this service →</a>
                        </div>
                    </div>

                    <div class="service">
                        <p class="service__number">07</p>
                        <h3 class="service__title">Full Brand + Website Reset</h3>
                        <p class="service__description">Complete brand and web system. The full transformation, end to end.</p>
                        <div class="service__footer">
                            <p class="service__price">$6,900 <span>CAD</span></p>
                            <a href="#contact" class="service__cta">Request this service →</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact -->
        <section class="section section--alt" id="contact">
            <div class="container">
                <div class="contact reveal">
                    <h2 class="contact__title">Let's talk</h2>
                    <p class="contact__subtitle">Select a service or describe your project. Responses within 1-2 business days.</p>

                    <form class="contact-form" action="https://formspree.io/f/xnjjgoay" method="POST">
                        <div class="contact-form__group">
                            <label class="contact-form__label" for="name">Name</label>
                            <input class="contact-form__input" type="text" id="name" name="name" required placeholder="Your name">
                        </div>

                        <div class="contact-form__group">
                            <label class="contact-form__label" for="email">Email</label>
                            <input class="contact-form__input" type="email" id="email" name="email" required placeholder="you@example.com">
                        </div>

                        <div class="contact-form__group">
                            <label class="contact-form__label" for="service">Service Interest</label>
                            <select class="contact-form__select" id="service" name="service">
                                <option value="">Select a service (optional)</option>
                                <option value="Founders Direction Check ($95)">Founders Direction Check — $95</option>
                                <option value="Brand & Website Starter Map ($145)">Brand & Website Starter Map — $145</option>
                                <option value="Website Snapshot Review ($195)">Website Snapshot Review — $195</option>
                                <option value="Brand Clarity Session ($245)">Brand Clarity Session — $245</option>
                                <option value="Comprehensive Website Audit ($450)">Comprehensive Website Audit — $450</option>
                                <option value="Strategic Brand Audit ($550)">Strategic Brand Audit — $550</option>
                                <option value="Brand Reset ($3,000)">Brand Reset — $3,000</option>
                                <option value="Website Foundation ($4,250)">Website Foundation — $4,250</option>
                                <option value="Full Brand + Website Reset ($6,900)">Full Brand + Website Reset — $6,900</option>
                                <option value="Not sure yet">Not sure yet</option>
                            </select>
                        </div>

                        <div class="contact-form__group">
                            <label class="contact-form__label" for="message">Message</label>
                            <textarea class="contact-form__textarea" id="message" name="message" required placeholder="Tell us about your project or what you're looking to accomplish..."></textarea>
                        </div>

                        <button class="contact-form__submit" type="submit">Send Request</button>
                        <div class="contact-form__feedback" id="formFeedback"></div>
                    </form>

                    <p class="contact__email-fallback">Or email directly: <a href="mailto:hello@bertrandbrands.com">hello@bertrandbrands.com</a></p>
                </div>
            </div>
        </section>

        <!-- Client Portal -->
        <section class="section" id="portal">
            <div class="container">
                <div class="portal reveal">
                    <div class="portal__content">
                        <h2 class="portal__title">Client Portal</h2>
                        <p class="portal__description">A dedicated space for active clients to access project files, timelines, and communication.</p>
                        <a href="https://clients.scottbertrand.com" class="portal__link">Access Portal →</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <div class="footer__inner">
                    <p class="footer__copyright">© <script>document.write(new Date().getFullYear())</script> Bertrand Brands</p>
                    <p class="footer__parent">A <a href="https://scottbertrand.com">Scott Bertrand</a> venture</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Intro option toggle (use ?intro=2 for option 2)
        (function() {
            const params = new URLSearchParams(window.location.search);
            if (params.get('intro') === '2') {
                document.querySelector('.intro')?.classList.add('intro--option2');
            }
        })();

        // Cursor glow
        (function() {
            const glow = document.getElementById('cursorGlow');
            if (!glow) return;
            if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) { glow.style.display = 'none'; return; }
            if (!window.matchMedia('(hover: hover) and (pointer: fine)').matches) { glow.style.display = 'none'; return; }

            let mouseX = 0, mouseY = 0, glowX = 0, glowY = 0;
            document.addEventListener('mousemove', (e) => { mouseX = e.clientX; mouseY = e.clientY; });
            function animate() {
                glowX += (mouseX - glowX) * 0.08;
                glowY += (mouseY - glowY) * 0.08;
                glow.style.left = glowX + 'px';
                glow.style.top = glowY + 'px';
                requestAnimationFrame(animate);
            }
            animate();
        })();

        // Scroll reveal
        (function() {
            const reveals = document.querySelectorAll('.reveal, .reveal-stagger');
            if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                reveals.forEach(el => el.classList.add('is-visible'));
                // Also trigger section-level effects
                document.querySelectorAll('.section--process').forEach(el => el.classList.add('reveal-triggered'));
                return;
            }
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('is-visible'); });
            }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });
            reveals.forEach(el => observer.observe(el));

            // Section-level ambient light triggers (for effects that span the whole section)
            const sectionObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('reveal-triggered'); });
            }, { threshold: 0.15 });
            document.querySelectorAll('.section--process').forEach(el => sectionObserver.observe(el));
        })();

        // Mobile menu toggle
        (function() {
            const toggle = document.querySelector('.header__toggle');
            const nav = document.querySelector('.header__nav');
            const navLinks = document.querySelectorAll('.header__link');

            toggle.addEventListener('click', () => {
                const isOpen = nav.classList.toggle('is-open');
                toggle.classList.toggle('is-open');
                toggle.setAttribute('aria-expanded', isOpen);
            });

            // Close menu when clicking a link
            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    nav.classList.remove('is-open');
                    toggle.classList.remove('is-open');
                    toggle.setAttribute('aria-expanded', 'false');
                });
            });
        })();

        // Cinematic intro animation - becomes static header, scrolls away one-way
        (function() {
            const header = document.querySelector('.header');
            const headerGlass = document.querySelector('.header__glass');
            const logo = document.querySelector('.header__logo');
            const intro = document.querySelector('.intro');

            // Skip for reduced motion - show everything immediately
            if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                logo?.classList.add('show-text');
                header?.classList.add('visible', 'lights-on');
                document.body.classList.add('intro-complete');
                intro?.remove();
                return;
            }

            if (!intro || !logo || !header) return;

            // Fallback for browsers without :has() support
            // Add class to lock scroll during intro animation
            document.body.classList.add('intro-playing');

            // Calculate when intro animation completes
            // Logo/wordmark: 1.2s delay + 2s duration = 3.2s
            // Subtitle: 3s delay + 0.8s duration = 3.8s
            // Add small buffer = 4s total
            const introAnimationDuration = 4000;

            // After intro animation completes, make it static and enable scrolling
            setTimeout(() => {
                intro.classList.add('intro--static');
                document.body.classList.remove('intro-playing'); // Remove scroll lock fallback
                document.body.classList.add('intro-static', 'intro-complete');
                // Header will be shown once user scrolls to main content
            }, introAnimationDuration);

            // Handle scroll to lock user from scrolling back to intro
            let hasScrolledPastIntro = false;
            let lastScrollY = window.scrollY;
            let ticking = false;
            let isSnapping = false;

            window.addEventListener('scroll', () => {
                if (!ticking && !isSnapping) {
                    window.requestAnimationFrame(() => {
                        const currentScrollY = window.scrollY;
                        const viewportHeight = window.innerHeight;

                        // Only apply scroll locking once intro is static
                        if (!document.body.classList.contains('intro-static')) {
                            ticking = false;
                            return;
                        }

                        // Hide scroll hint early when user starts scrolling
                        if (currentScrollY > 50 && !intro.classList.contains('hint-hidden')) {
                            intro.classList.add('hint-hidden');
                        }

                        // Once user scrolls significantly past intro, hide it and show header
                        if (!hasScrolledPastIntro && currentScrollY > viewportHeight * 0.85) {
                            hasScrolledPastIntro = true;
                            // Enable hero background extension and hide the intro
                            document.body.classList.add('intro-scrolled');
                            intro.classList.add('intro--hidden');
                            header.classList.add('visible');
                            logo.classList.add('show-text');
                            setTimeout(() => {
                                header.classList.add('lights-on');
                            }, 400);
                            // Trigger hero text animations
                            const heroTitle = document.querySelector('.hero__title');
                            if (heroTitle) {
                                heroTitle.classList.add('hero-animate');
                            }
                        }

                        // If locked and trying to scroll back, snap to hero
                        if (hasScrolledPastIntro && currentScrollY < viewportHeight) {
                            window.scrollTo(0, viewportHeight);
                        }

                        // Header visibility (hide on scroll down, show on scroll up)
                        if (header.classList.contains('visible') && currentScrollY > viewportHeight + 100) {
                            // Normal header behavior
                            if (currentScrollY > lastScrollY && currentScrollY > viewportHeight + 150) {
                                header.classList.add('hidden-scroll');
                            } else {
                                header.classList.remove('hidden-scroll');
                            }
                        } else {
                            header.classList.remove('hidden-scroll');
                        }

                        lastScrollY = currentScrollY;
                        ticking = false;
                    });
                    ticking = true;
                }
            });

            // Ambient orange light animation
            let orangePos1 = 15;
            let orangePos2 = 85;
            let direction1 = 1;
            let direction2 = -1;

            function animateLights() {
                if (!header.classList.contains('lights-on')) {
                    requestAnimationFrame(animateLights);
                    return;
                }

                // Gentle organic movement
                orangePos1 += direction1 * 0.03;
                orangePos2 += direction2 * 0.025;

                if (orangePos1 > 35 || orangePos1 < 10) direction1 *= -1;
                if (orangePos2 > 90 || orangePos2 < 60) direction2 *= -1;

                if (headerGlass) {
                    headerGlass.style.setProperty('--orange-pos-1', orangePos1 + '%');
                    headerGlass.style.setProperty('--orange-pos-2', orangePos2 + '%');
                }
                requestAnimationFrame(animateLights);
            }
            requestAnimationFrame(animateLights);
        })();

        // Visitor notification (silent push on page load)
        (function() {
            // Don't notify for localhost/dev
            if (location.hostname === 'localhost' || location.hostname === '127.0.0.1') return;

            fetch('/api/notify', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    type: 'visitor',
                    page: location.pathname,
                    referrer: document.referrer || null
                })
            }).catch(() => {
                // Silently fail - visitor tracking is non-essential
            });
        })();

        // Contact form with AJAX submission, notifications, and feedback
        (function() {
            const form = document.querySelector('.contact-form');
            if (!form) return;

            const submitBtn = form.querySelector('.contact-form__submit');
            const feedback = document.getElementById('formFeedback');
            const formspreeUrl = form.getAttribute('action');

            // Validation helper
            function validateEmail(email) {
                return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
            }

            function showFieldError(field, message) {
                field.classList.add('contact-form__input--error');
                let errorEl = field.parentElement.querySelector('.contact-form__error');
                if (!errorEl) {
                    errorEl = document.createElement('div');
                    errorEl.className = 'contact-form__error';
                    field.parentElement.appendChild(errorEl);
                }
                errorEl.textContent = message;
                errorEl.classList.add('contact-form__error--visible');
            }

            function clearFieldErrors() {
                form.querySelectorAll('.contact-form__input--error, .contact-form__textarea--error').forEach(el => {
                    el.classList.remove('contact-form__input--error', 'contact-form__textarea--error');
                });
                form.querySelectorAll('.contact-form__error').forEach(el => {
                    el.classList.remove('contact-form__error--visible');
                });
            }

            form.addEventListener('submit', async (e) => {
                e.preventDefault();

                // Reset feedback and errors
                feedback.className = 'contact-form__feedback';
                feedback.textContent = '';
                clearFieldErrors();

                // Get form fields
                const nameField = form.querySelector('#name');
                const emailField = form.querySelector('#email');
                const messageField = form.querySelector('#message');

                // Validate required fields
                let isValid = true;

                if (!nameField?.value.trim()) {
                    showFieldError(nameField, 'Please enter your name');
                    isValid = false;
                }

                if (!emailField?.value.trim()) {
                    showFieldError(emailField, 'Please enter your email');
                    isValid = false;
                } else if (!validateEmail(emailField.value.trim())) {
                    showFieldError(emailField, 'Please enter a valid email address');
                    isValid = false;
                }

                if (!messageField?.value.trim()) {
                    showFieldError(messageField, 'Please enter a message');
                    messageField?.classList.add('contact-form__textarea--error');
                    isValid = false;
                }

                if (!isValid) {
                    // Focus first error field
                    form.querySelector('.contact-form__input--error, .contact-form__textarea--error')?.focus();
                    return;
                }

                // Show loading state
                submitBtn.disabled = true;
                submitBtn.classList.add('contact-form__submit--loading');

                const formData = {
                    type: 'form',
                    name: nameField.value.trim(),
                    email: emailField.value.trim(),
                    service: form.querySelector('#service')?.value || '',
                    message: messageField.value.trim()
                };

                try {
                    // Submit to Formspree
                    const response = await fetch(formspreeUrl, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Accept': 'application/json'
                        },
                        body: JSON.stringify(formData)
                    });

                    if (response.ok) {
                        // Success - show message and reset form
                        feedback.className = 'contact-form__feedback contact-form__feedback--success';
                        feedback.textContent = 'Thank you! Your request has been sent. We\'ll be in touch within 1-2 business days.';
                        form.reset();

                        // Also send notifications (fire and forget)
                        fetch('/api/notify', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(formData)
                        }).catch(() => {});

                        fetch('https://hooks.zapier.com/hooks/catch/26192099/uqqr4uk/', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(formData)
                        }).catch(() => {});
                    } else {
                        throw new Error('Form submission failed');
                    }
                } catch (error) {
                    // Error - show message
                    feedback.className = 'contact-form__feedback contact-form__feedback--error';
                    feedback.textContent = 'Something went wrong. Please try again or email us directly at hello@bertrandbrands.com';
                } finally {
                    // Reset button state
                    submitBtn.disabled = false;
                    submitBtn.classList.remove('contact-form__submit--loading');
                }
            });
        })();
    </script>
</body>
</html>

