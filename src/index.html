<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

    <!-- SEO -->
    <link rel="canonical" href="https://bertrandbrands.com/">
    <meta name="theme-color" content="#0a0a0a">
    <title>Bertrand Brands — Brand & Web Systems</title>
    <meta name="description" content="Clear, structured brand and web work for businesses that value clarity. Audits, brand systems, and website foundations. Based in Sudbury, available across Canada.">

    <!-- Open Graph -->
    <meta property="og:title" content="Bertrand Brands — Brand & Web Systems">
    <meta property="og:description" content="Clear, structured brand and web work for businesses that value clarity. Based in Sudbury, available across Canada.">
    <meta property="og:url" content="https://bertrandbrands.com/">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="en_CA">

    <!-- Favicon & Touch Icons -->
    <link rel="icon" type="image/png" href="/assets/favicon.png">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">

    <!-- Schema.org LocalBusiness + Service -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ProfessionalService",
      "name": "Bertrand Brands",
      "description": "Clear, structured brand and web work for businesses that value clarity. Audits, brand systems, and website foundations.",
      "url": "https://bertrandbrands.com",
      "email": "hello@bertrandbrands.com",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Greater Sudbury",
        "addressRegion": "Ontario",
        "addressCountry": "CA"
      },
      "areaServed": [
        { "@type": "Place", "name": "Northern Ontario" },
        { "@type": "Country", "name": "Canada" }
      ],
      "priceRange": "$195 - $8,500 CAD",
      "founder": {
        "@type": "Person",
        "name": "Scott Bertrand",
        "url": "https://scottbertrand.com"
      },
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "Brand & Web Services",
        "itemListElement": [
          { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Website Snapshot Review" }, "price": "195", "priceCurrency": "CAD" },
          { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Brand Clarity Diagnostic" }, "price": "295", "priceCurrency": "CAD" },
          { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Comprehensive Website Audit" }, "price": "795", "priceCurrency": "CAD" },
          { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Strategic Brand Audit" }, "price": "995", "priceCurrency": "CAD" },
          { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Brand Reset" }, "price": "2500", "priceCurrency": "CAD" },
          { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Website Foundation" }, "price": "4500", "priceCurrency": "CAD" },
          { "@type": "Offer", "itemOffered": { "@type": "Service", "name": "Full Brand + Website Reset" }, "price": "8500", "priceCurrency": "CAD" }
        ]
      }
    }
    </script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,300;9..144,400&family=Inter:opsz,wght@14..32,300;14..32,400;14..32,500;14..32,600&family=Source+Serif+4:opsz,wght@8..60,300;8..60,400&display=swap" rel="stylesheet">

    <\!-- Styles -->
    <link rel="stylesheet" href="/styles/tokens.css">
    <link rel="stylesheet" href="/styles/main.css">
</head>
<body>
    <div class="cursor-glow" id="cursorGlow"></div>

    <!-- Cinematic Intro -->
    <div class="intro">
        <div class="intro__glow intro__glow--orange"></div>
        <div class="intro__glow intro__glow--blue"></div>
        <div class="intro__fade"></div>
        <div class="intro__grid"></div>
        <img src="/assets/bertrand-brands-logomark.png" alt="" class="intro__logo">
        <div class="intro__brand">
            <span class="intro__brand-main">Bertrand</span>
            <span class="intro__brand-main">Brands</span>
            <span class="intro__brand-sub">Brand &amp; Web Systems</span>
        </div>
        <div class="intro__scroll-hint">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
        </div>
    </div>

    <div class="page">
        <!-- Header: BERTRAND BRANDS -->
        <header class="header">
            <div class="header__glass">
                <div class="header__inner">
                    <a href="/" class="header__logo"><img src="/assets/bertrand-brands-logomark.png" alt="" class="header__logo-icon"><span class="header__logo-text">Bertrand Brands</span></a>
                    <button class="header__toggle" aria-label="Toggle menu" aria-expanded="false">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <nav class="header__nav">
                        <a href="#about" class="header__link">About</a>
                        <a href="#process" class="header__link">How It Works</a>
                        <a href="#services" class="header__link">Services</a>
                        <a href="#intake" class="header__link header__link--cta">Start Here</a>
                        <a href="#portal" class="header__link header__link--portal">Client Portal</a>
                    </nav>
                </div>
            </div>
        </header>

        <!-- Hero -->
        <section class="hero">
            <div class="hero__bg">
                <div class="hero__gradient hero__gradient--1"></div>
                <div class="hero__gradient hero__gradient--2"></div>
                <div class="hero__grid"></div>
            </div>
            <div class="hero__spotlight hero__spotlight--orange"></div>
            <div class="hero__spotlight hero__spotlight--blue"></div>

            <div class="hero__content">
                <h1 class="hero__title">
                    <span class="hero__title-glow">Brand &</span>
                    <span><span class="hero__title-glow">Web</span> <span class="accent">Systems</span></span>
                </h1>
                <p class="hero__subtitle">
                    Clear, structured work for businesses that value clarity over noise.
                    Based in Sudbury, available across Canada.
                </p>
                <a href="#about" class="hero__cta">
                    Learn more
                    <span class="hero__cta-arrow">↓</span>
                </a>
            </div>
        </section>

        <!-- About -->
        <section class="section" id="about">
            <div class="container">
                <div class="section__header section__header--about reveal">
                    <p class="section__label">About</p>
                    <h2 class="section__title">Clear thinking, <span class="text-spotlight text-spotlight--focused">focused</span> work</h2>
                </div>

                <div class="about reveal">
                    <p class="about__text">Bertrand Brands is a design studio for businesses who know their brand or website needs work—but aren't sure where to start.</p>
                    <p class="about__text">We create clarity. Through structured audits, brand systems, and conversion-focused websites, we help you understand what's working, what isn't, and what to do next.</p>
                    <p class="about__text">Based in Greater Sudbury, serving Northern Ontario and clients across Canada.</p>
                </div>
            </div>
        </section>

        <!-- Process (How It Works) -->
        <section class="section section--alt section--process" id="process">
            <div class="container">
                <div class="section__header section__header--process reveal">
                    <p class="section__label">How It Works</p>
                    <h2 class="section__title section__title--clear-phrase"><span class="text-fade">A </span><span class="text-spotlight text-spotlight--clear">clear</span><span class="text-fade"> path forward</span></h2>
                </div>

                <div class="process reveal">
                    <p class="process__intro">Every project follows a structured process. No surprises, no scope creep—just thoughtful analysis that moves you forward.</p>

                    <ol class="process__steps">
                        <li class="process__step" data-step="01">You share context about your business and goals</li>
                        <li class="process__step" data-step="02">We review and analyze what you've sent</li>
                        <li class="process__step" data-step="03">You receive a written deliverable with clear direction</li>
                        <li class="process__step" data-step="04">Optional: clarification call to discuss findings</li>
                        <li class="process__step" data-step="05">You move forward with clarity</li>
                    </ol>
                </div>
            </div>
        </section>

        <!-- Services -->
        <section class="section section--alt" id="services">
            <div class="container">
                <div class="section__header reveal">
                    <p class="section__label">Services</p>
                    <h2 class="section__title">What we offer</h2>
                </div>

                <!-- Tier 1: Entry Reviews -->
                <div class="exploratory reveal">
                    <p class="exploratory__label">Start Here</p>
                    <div class="exploratory__grid">
                        <div class="exploratory-card">
                            <div class="exploratory-card__header">
                                <h3 class="exploratory-card__title">Website Snapshot Review</h3>
                                <span class="exploratory-card__meta">Written Deliverable</span>
                            </div>
                            <p class="exploratory-card__description">A structured review of your website with prioritized recommendations. Understand what's working, what needs attention, and where to focus next.</p>
                            <div class="exploratory-card__footer">
                                <p class="exploratory-card__price">$195 <span>CAD</span></p>
                                <a href="#intake" class="exploratory-card__cta">Start here →</a>
                            </div>
                        </div>

                        <div class="exploratory-card">
                            <div class="exploratory-card__header">
                                <h3 class="exploratory-card__title">Brand Clarity Diagnostic</h3>
                                <span class="exploratory-card__meta">Written Deliverable</span>
                            </div>
                            <p class="exploratory-card__description">A positioning and messaging assessment with clear direction. Know where you stand and what needs to shift.</p>
                            <div class="exploratory-card__footer">
                                <p class="exploratory-card__price">$295 <span>CAD</span></p>
                                <a href="#intake" class="exploratory-card__cta">Start here →</a>
                            </div>
                        </div>
                    </div>
                </div>

                <hr class="services-divider">

                <!-- Pricing Access Banner (shown when access is active) -->
                <div class="pricing-banner" id="pricingBanner" style="display: none;">
                    <p class="pricing-banner__text">Pricing access active for <span id="pricingTimeRemaining">~60</span> minutes</p>
                </div>

                <!-- Tier 2: In-Depth Reviews (Gated) -->
                <p class="services-tier-label reveal">In-Depth Reviews</p>
                <div class="services reveal-stagger">
                    <div class="service service--gated" data-gated="true">
                        <p class="service__number">01</p>
                        <h3 class="service__title">Comprehensive Website Audit</h3>
                        <p class="service__meta">Detailed Report</p>
                        <p class="service__description">Architecture, messaging, UX, and conversion analysis. A complete picture of what's working and what to fix.</p>
                        <div class="service__footer">
                            <p class="service__price service__price--gated" data-price="$795">$795 <span>CAD</span></p>
                            <a href="#intake" class="service__cta service__cta--visible">Start here →</a>
                            <button type="button" class="service__cta service__cta--gated" data-pricing-trigger>Email me the pricing →</button>
                        </div>
                    </div>

                    <div class="service service--gated" data-gated="true">
                        <p class="service__number">02</p>
                        <h3 class="service__title">Strategic Brand Audit</h3>
                        <p class="service__meta">Detailed Report</p>
                        <p class="service__description">Brand system, positioning, and strategic options. Clear direction on where your brand should go.</p>
                        <div class="service__footer">
                            <p class="service__price service__price--gated" data-price="$995">$995 <span>CAD</span></p>
                            <a href="#intake" class="service__cta service__cta--visible">Start here →</a>
                            <button type="button" class="service__cta service__cta--gated" data-pricing-trigger>Email me the pricing →</button>
                        </div>
                    </div>
                </div>

                <hr class="services-divider">

                <!-- Tier 3: Execution (Gated) -->
                <p class="services-tier-label reveal">Brand & Web Builds</p>
                <div class="services reveal-stagger">
                    <div class="service service--gated" data-gated="true">
                        <p class="service__number">03</p>
                        <h3 class="service__title">Brand Reset</h3>
                        <p class="service__description">Core brand system, messaging, and guidelines. A foundation that works across every touchpoint.</p>
                        <div class="service__footer">
                            <p class="service__price service__price--gated" data-price="$2,500">$2,500 <span>CAD</span></p>
                            <a href="#intake" class="service__cta service__cta--visible">Start here →</a>
                            <button type="button" class="service__cta service__cta--gated" data-pricing-trigger>Email me the pricing →</button>
                        </div>
                    </div>

                    <div class="service service--gated" data-gated="true">
                        <p class="service__number">04</p>
                        <h3 class="service__title">Website Foundation</h3>
                        <p class="service__description">Strategy-led website build for small to mid-sized businesses. Fast, clear, built to convert.</p>
                        <div class="service__footer">
                            <p class="service__price service__price--gated" data-price="$4,500">$4,500 <span>CAD</span></p>
                            <a href="#intake" class="service__cta service__cta--visible">Start here →</a>
                            <button type="button" class="service__cta service__cta--gated" data-pricing-trigger>Email me the pricing →</button>
                        </div>
                    </div>

                    <div class="service service--gated" data-gated="true">
                        <p class="service__number">05</p>
                        <h3 class="service__title">Full Brand + Website Reset</h3>
                        <p class="service__description">End-to-end transformation. Brand system and website built together from the ground up.</p>
                        <div class="service__footer">
                            <p class="service__price service__price--gated" data-price="$8,500">$8,500 <span>CAD</span></p>
                            <a href="#intake" class="service__cta service__cta--visible">Start here →</a>
                            <button type="button" class="service__cta service__cta--gated" data-pricing-trigger>Email me the pricing →</button>
                        </div>
                    </div>
                </div>

                </div>
        </section>

        <!-- Selected Work -->
        <section class="section" id="work">
            <div class="container">
                <div class="section__header reveal">
                    <p class="section__label">Selected Work</p>
                    <h2 class="section__title">Internal Build</h2>
                </div>

                <div class="work reveal">
                    <div class="work__item">
                        <p class="work__label">Brand & Website System</p>
                        <h3 class="work__title">ScottBertrand.com</h3>
                        <p class="work__description">A purpose-built brand and website system designed to demonstrate how clarity, structure, and restraint can work together in a modern digital presence. The project prioritizes clear entry points and decision flow, strong typographic hierarchy, and subtle interaction used with intent.</p>
                        <a href="https://scottbertrand.com" class="work__link" target="_blank" rel="noopener">
                            View site
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                                <polyline points="12 5 19 12 12 19"></polyline>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Intake -->
        <section class="section section--alt" id="intake">
            <div class="container">
                <div class="contact reveal">
                    <h2 class="contact__title">Start here</h2>
                    <p class="contact__subtitle">Tell us about your business and what you're working on. We'll review and respond within 1-2 business days.</p>

                    <form class="contact-form" action="https://formspree.io/f/xnjjgoay" method="POST">
                        <div class="contact-form__group">
                            <label class="contact-form__label" for="name">Name</label>
                            <input class="contact-form__input" type="text" id="name" name="name" required placeholder="Your name">
                        </div>

                        <div class="contact-form__group">
                            <label class="contact-form__label" for="email">Email</label>
                            <input class="contact-form__input" type="email" id="email" name="email" required placeholder="you@example.com">
                        </div>

                        <div class="contact-form__group">
                            <label class="contact-form__label" for="service">Service Interest</label>
                            <select class="contact-form__select" id="service" name="service">
                                <option value="">Select a service (optional)</option>
                                <option value="Website Snapshot Review ($195)">Website Snapshot Review — $195</option>
                                <option value="Brand Clarity Diagnostic ($295)">Brand Clarity Diagnostic — $295</option>
                                <option value="Comprehensive Website Audit ($795)">Comprehensive Website Audit — $795</option>
                                <option value="Strategic Brand Audit ($995)">Strategic Brand Audit — $995</option>
                                <option value="Brand Reset ($2,500)">Brand Reset — $2,500</option>
                                <option value="Website Foundation ($4,500)">Website Foundation — $4,500</option>
                                <option value="Full Brand + Website Reset ($8,500)">Full Brand + Website Reset — $8,500</option>
                                <option value="Not sure yet">Not sure yet</option>
                            </select>
                        </div>

                        <div class="contact-form__group">
                            <label class="contact-form__label" for="message">Message</label>
                            <textarea class="contact-form__textarea" id="message" name="message" required placeholder="Tell us about your project or what you're looking to accomplish..."></textarea>
                        </div>

                        <button class="contact-form__submit" type="submit">Send Request</button>
                        <div class="contact-form__feedback" id="formFeedback"></div>
                    </form>

                    <p class="contact__email-fallback">Or email directly: <a href="mailto:hello@bertrandbrands.com">hello@bertrandbrands.com</a></p>
                </div>
            </div>
        </section>

        <!-- Client Portal -->
        <section class="section" id="portal">
            <div class="container">
                <div class="portal reveal">
                    <div class="portal__content">
                        <h2 class="portal__title">Client Portal</h2>
                        <p class="portal__description">A dedicated space for active clients to access project files, timelines, and communication.</p>
                        <a href="https://clients.scottbertrand.com" class="portal__link">Access Portal →</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <div class="footer__inner">
                    <div class="footer__left">
                        <p class="footer__copyright">© <script>document.write(new Date().getFullYear())</script> Bertrand Brands</p>
                        <p class="footer__parent"><a href="#work">Selected Work</a></p>
                    </div>
                    <div class="footer__contact">
                        <a href="mailto:hello@bertrandbrands.com" class="footer__link">hello@bertrandbrands.com</a>
                        <a href="tel:+17054133705" class="footer__link footer__link--phone">(705) 413-3705</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Pricing Access Modal -->
    <div class="pricing-modal" id="pricingModal" role="dialog" aria-modal="true" aria-labelledby="pricingModalTitle">
        <div class="pricing-modal__backdrop" data-pricing-close></div>
        <div class="pricing-modal__content">
            <button type="button" class="pricing-modal__close" data-pricing-close aria-label="Close modal">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
            <h2 class="pricing-modal__title" id="pricingModalTitle">Get Pricing Details</h2>
            <p class="pricing-modal__description">Enter your email to receive a link to view pricing for our advanced services. Pricing varies by scope—this gives you a starting point.</p>
            <form class="pricing-modal__form" id="pricingRequestForm">
                <div class="pricing-modal__group">
                    <label class="pricing-modal__label" for="pricingFirstName">First Name <span class="pricing-modal__optional">(optional)</span></label>
                    <input class="pricing-modal__input" type="text" id="pricingFirstName" name="firstName" placeholder="Your first name" autocomplete="given-name">
                </div>
                <div class="pricing-modal__group">
                    <label class="pricing-modal__label" for="pricingEmail">Email</label>
                    <input class="pricing-modal__input" type="email" id="pricingEmail" name="email" required placeholder="you@example.com" autocomplete="email">
                    <div class="pricing-modal__error" id="pricingEmailError"></div>
                </div>
                <button type="submit" class="pricing-modal__submit" id="pricingSubmitBtn">Send Link</button>
            </form>
            <div class="pricing-modal__success" id="pricingSuccess" style="display: none;">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="9 12 11 14 15 10"></polyline>
                </svg>
                <h3>Check your email</h3>
                <p>We've sent a link to view pricing. It expires in 15 minutes.</p>
            </div>
        </div>
    </div>

    <script>
        // Intro option toggle (use ?intro=2 for option 2)
        (function() {
            const params = new URLSearchParams(window.location.search);
            if (params.get('intro') === '2') {
                document.querySelector('.intro')?.classList.add('intro--option2');
            }
        })();

        // Cursor glow
        (function() {
            const glow = document.getElementById('cursorGlow');
            if (!glow) return;
            if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) { glow.style.display = 'none'; return; }
            if (!window.matchMedia('(hover: hover) and (pointer: fine)').matches) { glow.style.display = 'none'; return; }

            let mouseX = 0, mouseY = 0, glowX = 0, glowY = 0;
            document.addEventListener('mousemove', (e) => { mouseX = e.clientX; mouseY = e.clientY; });
            function animate() {
                glowX += (mouseX - glowX) * 0.08;
                glowY += (mouseY - glowY) * 0.08;
                glow.style.left = glowX + 'px';
                glow.style.top = glowY + 'px';
                requestAnimationFrame(animate);
            }
            animate();
        })();

        // Scroll reveal
        (function() {
            const reveals = document.querySelectorAll('.reveal, .reveal-stagger');
            if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                reveals.forEach(el => el.classList.add('is-visible'));
                // Also trigger section-level effects
                document.querySelectorAll('.section--process').forEach(el => el.classList.add('reveal-triggered'));
                return;
            }
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('is-visible'); });
            }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });
            reveals.forEach(el => observer.observe(el));

            // Section-level ambient light triggers (for effects that span the whole section)
            const sectionObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('reveal-triggered'); });
            }, { threshold: 0.15 });
            document.querySelectorAll('.section--process').forEach(el => sectionObserver.observe(el));
        })();

        // Mobile menu toggle
        (function() {
            const toggle = document.querySelector('.header__toggle');
            const nav = document.querySelector('.header__nav');
            const navLinks = document.querySelectorAll('.header__link');

            toggle.addEventListener('click', () => {
                const isOpen = nav.classList.toggle('is-open');
                toggle.classList.toggle('is-open');
                toggle.setAttribute('aria-expanded', isOpen);
            });

            // Close menu when clicking a link
            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    nav.classList.remove('is-open');
                    toggle.classList.remove('is-open');
                    toggle.setAttribute('aria-expanded', 'false');
                });
            });
        })();

        // Cinematic intro animation - becomes static header, scrolls away one-way
        (function() {
            const header = document.querySelector('.header');
            const headerGlass = document.querySelector('.header__glass');
            const logo = document.querySelector('.header__logo');
            const intro = document.querySelector('.intro');

            // Skip for reduced motion - show everything immediately
            if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                logo?.classList.add('show-text');
                header?.classList.add('visible', 'lights-on');
                document.body.classList.add('intro-complete');
                intro?.remove();
                return;
            }

            if (!intro || !logo || !header) return;

            // Fallback for browsers without :has() support
            // Add class to lock scroll during intro animation
            document.body.classList.add('intro-playing');

            // Calculate when intro animation completes
            // Logo/wordmark: 1.2s delay + 2s duration = 3.2s
            // Subtitle: 3s delay + 0.8s duration = 3.8s
            // Add small buffer = 4s total
            const introAnimationDuration = 4000;

            // After intro animation completes, make it static and enable scrolling
            setTimeout(() => {
                intro.classList.add('intro--static');
                document.body.classList.remove('intro-playing'); // Remove scroll lock fallback
                document.body.classList.add('intro-static', 'intro-complete');
                // Header will be shown once user scrolls to main content
            }, introAnimationDuration);

            // Handle scroll to lock user from scrolling back to intro
            let hasScrolledPastIntro = false;
            let lastScrollY = window.scrollY;
            let ticking = false;
            let isSnapping = false;

            window.addEventListener('scroll', () => {
                if (!ticking && !isSnapping) {
                    window.requestAnimationFrame(() => {
                        const currentScrollY = window.scrollY;
                        const viewportHeight = window.innerHeight;

                        // Only apply scroll locking once intro is static
                        if (!document.body.classList.contains('intro-static')) {
                            ticking = false;
                            return;
                        }

                        // Hide scroll hint early when user starts scrolling
                        if (currentScrollY > 50 && !intro.classList.contains('hint-hidden')) {
                            intro.classList.add('hint-hidden');
                        }

                        // Once user scrolls significantly past intro, hide it and show header
                        if (!hasScrolledPastIntro && currentScrollY > viewportHeight * 0.85) {
                            hasScrolledPastIntro = true;
                            // Enable hero background extension and hide the intro
                            document.body.classList.add('intro-scrolled');
                            intro.classList.add('intro--hidden');
                            header.classList.add('visible');
                            logo.classList.add('show-text');
                            setTimeout(() => {
                                header.classList.add('lights-on');
                            }, 400);
                            // Trigger hero text animations
                            const heroTitle = document.querySelector('.hero__title');
                            if (heroTitle) {
                                heroTitle.classList.add('hero-animate');
                            }
                        }

                        // If locked and trying to scroll back, snap to hero
                        if (hasScrolledPastIntro && currentScrollY < viewportHeight) {
                            window.scrollTo(0, viewportHeight);
                        }

                        // Header visibility (hide on scroll down, show on scroll up)
                        if (header.classList.contains('visible') && currentScrollY > viewportHeight + 100) {
                            // Normal header behavior
                            if (currentScrollY > lastScrollY && currentScrollY > viewportHeight + 150) {
                                header.classList.add('hidden-scroll');
                            } else {
                                header.classList.remove('hidden-scroll');
                            }
                        } else {
                            header.classList.remove('hidden-scroll');
                        }

                        lastScrollY = currentScrollY;
                        ticking = false;
                    });
                    ticking = true;
                }
            });

            // Ambient orange light animation
            let orangePos1 = 15;
            let orangePos2 = 85;
            let direction1 = 1;
            let direction2 = -1;

            function animateLights() {
                if (!header.classList.contains('lights-on')) {
                    requestAnimationFrame(animateLights);
                    return;
                }

                // Gentle organic movement
                orangePos1 += direction1 * 0.03;
                orangePos2 += direction2 * 0.025;

                if (orangePos1 > 35 || orangePos1 < 10) direction1 *= -1;
                if (orangePos2 > 90 || orangePos2 < 60) direction2 *= -1;

                if (headerGlass) {
                    headerGlass.style.setProperty('--orange-pos-1', orangePos1 + '%');
                    headerGlass.style.setProperty('--orange-pos-2', orangePos2 + '%');
                }
                requestAnimationFrame(animateLights);
            }
            requestAnimationFrame(animateLights);
        })();

        // Visitor notification (silent push on page load)
        (function() {
            // Don't notify for localhost/dev
            if (location.hostname === 'localhost' || location.hostname === '127.0.0.1') return;

            fetch('/api/notify', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    type: 'visitor',
                    page: location.pathname,
                    referrer: document.referrer || null
                })
            }).catch(() => {
                // Silently fail - visitor tracking is non-essential
            });
        })();

        // Pricing gate system
        (function() {
            const modal = document.getElementById('pricingModal');
            const form = document.getElementById('pricingRequestForm');
            const emailInput = document.getElementById('pricingEmail');
            const firstNameInput = document.getElementById('pricingFirstName');
            const submitBtn = document.getElementById('pricingSubmitBtn');
            const emailError = document.getElementById('pricingEmailError');
            const successState = document.getElementById('pricingSuccess');
            const pricingBanner = document.getElementById('pricingBanner');
            const pricingTimeRemaining = document.getElementById('pricingTimeRemaining');

            let hasPricingAccess = false;

            // Check pricing access on page load
            async function checkPricingAccess() {
                try {
                    const response = await fetch('/api/pricing/check-access');
                    const data = await response.json();

                    if (data.hasAccess) {
                        hasPricingAccess = true;
                        showPricing();
                        if (data.remainingMinutes) {
                            pricingTimeRemaining.textContent = `~${data.remainingMinutes}`;
                        }
                        pricingBanner.style.display = 'block';
                    } else {
                        hidePricing();
                    }
                } catch (error) {
                    // Silently fail - default to hidden pricing
                    hidePricing();
                }
            }

            // Show pricing for gated services
            function showPricing() {
                document.querySelectorAll('.service--gated').forEach(card => {
                    card.classList.add('service--unlocked');
                });
            }

            // Hide pricing for gated services
            function hidePricing() {
                document.querySelectorAll('.service--gated').forEach(card => {
                    card.classList.remove('service--unlocked');
                });
            }

            // Open modal
            function openModal() {
                modal.classList.add('is-open');
                document.body.style.overflow = 'hidden';
                emailInput.focus();
            }

            // Close modal
            function closeModal() {
                modal.classList.remove('is-open');
                document.body.style.overflow = '';
            }

            // Reset modal to initial state
            function resetModal() {
                form.style.display = '';
                successState.style.display = 'none';
                form.reset();
                emailError.textContent = '';
                emailError.style.display = 'none';
                submitBtn.disabled = false;
                submitBtn.classList.remove('pricing-modal__submit--loading');
            }

            // Validate email
            function validateEmail(email) {
                return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
            }

            // Event listeners for opening modal
            document.querySelectorAll('[data-pricing-trigger]').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    if (!hasPricingAccess) {
                        resetModal();
                        openModal();
                    }
                });
            });

            // Event listeners for closing modal
            document.querySelectorAll('[data-pricing-close]').forEach(el => {
                el.addEventListener('click', closeModal);
            });

            // Close on Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && modal.classList.contains('is-open')) {
                    closeModal();
                }
            });

            // Form submission
            form.addEventListener('submit', async (e) => {
                e.preventDefault();

                const email = emailInput.value.trim();
                const firstName = firstNameInput.value.trim();

                // Validate
                if (!email || !validateEmail(email)) {
                    emailError.textContent = 'Please enter a valid email address';
                    emailError.style.display = 'block';
                    emailInput.focus();
                    return;
                }

                emailError.style.display = 'none';
                submitBtn.disabled = true;
                submitBtn.classList.add('pricing-modal__submit--loading');

                try {
                    const response = await fetch('/api/pricing/request-access', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ email, firstName })
                    });

                    // Always show success (to prevent enumeration)
                    form.style.display = 'none';
                    successState.style.display = 'flex';

                } catch (error) {
                    // Still show success to prevent enumeration
                    form.style.display = 'none';
                    successState.style.display = 'flex';
                }
            });

            // Initialize on page load
            checkPricingAccess();
        })();

        // Contact form with AJAX submission, notifications, and feedback
        (function() {
            const form = document.querySelector('.contact-form');
            if (!form) return;

            const submitBtn = form.querySelector('.contact-form__submit');
            const feedback = document.getElementById('formFeedback');
            const formspreeUrl = form.getAttribute('action');

            // Validation helper
            function validateEmail(email) {
                return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
            }

            function showFieldError(field, message) {
                field.classList.add('contact-form__input--error');
                let errorEl = field.parentElement.querySelector('.contact-form__error');
                if (!errorEl) {
                    errorEl = document.createElement('div');
                    errorEl.className = 'contact-form__error';
                    field.parentElement.appendChild(errorEl);
                }
                errorEl.textContent = message;
                errorEl.classList.add('contact-form__error--visible');
            }

            function clearFieldErrors() {
                form.querySelectorAll('.contact-form__input--error, .contact-form__textarea--error').forEach(el => {
                    el.classList.remove('contact-form__input--error', 'contact-form__textarea--error');
                });
                form.querySelectorAll('.contact-form__error').forEach(el => {
                    el.classList.remove('contact-form__error--visible');
                });
            }

            form.addEventListener('submit', async (e) => {
                e.preventDefault();

                // Reset feedback and errors
                feedback.className = 'contact-form__feedback';
                feedback.textContent = '';
                clearFieldErrors();

                // Get form fields
                const nameField = form.querySelector('#name');
                const emailField = form.querySelector('#email');
                const messageField = form.querySelector('#message');

                // Validate required fields
                let isValid = true;

                if (!nameField?.value.trim()) {
                    showFieldError(nameField, 'Please enter your name');
                    isValid = false;
                }

                if (!emailField?.value.trim()) {
                    showFieldError(emailField, 'Please enter your email');
                    isValid = false;
                } else if (!validateEmail(emailField.value.trim())) {
                    showFieldError(emailField, 'Please enter a valid email address');
                    isValid = false;
                }

                if (!messageField?.value.trim()) {
                    showFieldError(messageField, 'Please enter a message');
                    messageField?.classList.add('contact-form__textarea--error');
                    isValid = false;
                }

                if (!isValid) {
                    // Focus first error field
                    form.querySelector('.contact-form__input--error, .contact-form__textarea--error')?.focus();
                    return;
                }

                // Show loading state
                submitBtn.disabled = true;
                submitBtn.classList.add('contact-form__submit--loading');

                const formData = {
                    type: 'form',
                    name: nameField.value.trim(),
                    email: emailField.value.trim(),
                    service: form.querySelector('#service')?.value || '',
                    message: messageField.value.trim()
                };

                try {
                    // Submit to Formspree
                    const response = await fetch(formspreeUrl, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Accept': 'application/json'
                        },
                        body: JSON.stringify(formData)
                    });

                    if (response.ok) {
                        // Success - show message and reset form
                        feedback.className = 'contact-form__feedback contact-form__feedback--success';
                        feedback.textContent = 'Thank you! Your request has been sent. We\'ll be in touch within 1-2 business days.';
                        form.reset();

                        // Also send notifications (fire and forget)
                        fetch('/api/notify', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(formData)
                        }).catch(() => {});

                        fetch('https://hooks.zapier.com/hooks/catch/26192099/uqqr4uk/', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(formData)
                        }).catch(() => {});
                    } else {
                        throw new Error('Form submission failed');
                    }
                } catch (error) {
                    // Error - show message
                    feedback.className = 'contact-form__feedback contact-form__feedback--error';
                    feedback.textContent = 'Something went wrong. Please try again or email us directly at hello@bertrandbrands.com';
                } finally {
                    // Reset button state
                    submitBtn.disabled = false;
                    submitBtn.classList.remove('contact-form__submit--loading');
                }
            });
        })();
    </script>
</body>
</html>

